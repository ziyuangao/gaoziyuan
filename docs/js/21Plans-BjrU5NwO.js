import{bM as N,r as Y,m as C,w as k,a6 as M,G as _,E as y,J as e,a0 as B,C as z,c as $,K as L,H as n,I as f,$ as g}from"./vendor-36SIQmXg.js";import{_ as b}from"./index-BhHmzdoC.js";const D=()=>{const c=(l,t,d,a)=>{const u=N(d);let o;switch(l){case"distance":o=s(t,a);break;case"sugar":o=i(t,a);break;case"sleep":o=m(t,a);break;default:console.warn("Unknown chart type:",l);return}u.setOption(o);const x=()=>u.resize();return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),u.dispose()}},s=(l,t)=>({title:{text:t,left:"center"},tooltip:{trigger:"axis",formatter:d=>{const a=l[d[0].dataIndex];return!a.distance||a.distance==0?`${a.date}<br/>è·ç¦»: 0å…¬é‡Œ<br/>å¤‡æ³¨: ä¼‘æ¯æ—¥`:`${a.date}<br/>è·ç¦»: ${a.distance}å…¬é‡Œ${a.calorie?`<br/>å¡è·¯é‡Œ: ${a.calorie}kcal`:""}${a.notes?`<br/>å¤‡æ³¨: ${a.notes}`:""}`}},xAxis:{type:"category",data:l.map(d=>d.date.substring(5)),axisLabel:{rotate:45}},yAxis:{type:"value",name:"è·ç¦»(å…¬é‡Œ)"},series:[{data:l.map(d=>parseFloat(d.distance)||0),type:"line",smooth:!0,lineStyle:{width:3},itemStyle:{color:"#5470C6"}}],grid:{containLabel:!0}}),i=(l,t)=>{const d={Y:0,N:0};return l.forEach(a=>{(a.sugarFree==="Y"||a.sugarFree==="N")&&d[a.sugarFree]++}),{title:{text:t,left:"center"},tooltip:{trigger:"item",formatter:"{b}: {c}å¤© ({d}%)"},series:[{type:"pie",radius:"70%",data:[{value:d.Y,name:"å¿ä½äº†(Y)",itemStyle:{color:"#27ae60"}},{value:d.N,name:"æ²¡å¿ä½(N)",itemStyle:{color:"#e74c3c"}}],label:{formatter:"{b}: {d}%"},emphasis:{scale:!0,scaleSize:10}}]}},m=(l,t)=>{const d=r=>{if(!r)return 0;const[p,h]=r.split(":").map(Number);return p*60+h},a=r=>{const p=r>=1440,h=p?r-1440:r,S=Math.floor(h/60),w=h%60;return`${S}:${w.toString().padStart(2,"0")}${p?" (æ¬¡æ—¥)":""}`},u=l.map(r=>d(r.expectedBedtime)),o=l.map(r=>d(r.actualBedtime)),x=[...u,...o].filter(r=>r>0);return{title:{text:t,left:"center"},tooltip:{trigger:"axis",formatter:r=>{const p=r[0].dataIndex;return`${l[p].date}<br/>
          è®¡åˆ’: ${a(u[p])}<br/>
          å®é™…: ${a(o[p])}`}},xAxis:{type:"category",data:l.map(r=>r.date.substring(5)),axisLabel:{rotate:45}},yAxis:{type:"value",name:"å°±å¯æ—¶é—´",min:Math.min(...x),max:Math.max(...x),axisLabel:{formatter:a}},series:[{name:"è®¡åˆ’æ—¶é—´",type:"bar",data:u,itemStyle:{color:"#3498db"}},{name:"å®é™…æ—¶é—´",type:"bar",data:o,itemStyle:({dataIndex:r})=>({color:o[r]-u[r]>30?"#e74c3c":"#27ae60"})}]}};return{initChart:c}},E={__name:"HealthChart",props:{type:{type:String,required:!0},data:{type:Array,required:!0},title:{type:String,default:""}},setup(c){const s=c,i=Y(null),{initChart:m}=D();return C(()=>{i.value&&m(s.type,s.data,i.value,s.title)}),k(()=>s.data,()=>{i.value&&m(s.type,s.data,i.value,s.title)}),M(()=>{window.removeEventListener("resize",()=>{})}),(l,t)=>(y(),_("div",{ref_key:"chartRef",ref:i,class:"chart-container"},null,512))}},F=b(E,[["__scopeId","data-v-7964b0ec"]]),I={class:"metric-card"},A={class:"card-title"},q={class:"card-content"},O={__name:"MetricCard",props:{title:{type:String,required:!0}},setup(c){return(s,i)=>(y(),_("div",I,[e("h2",A,B(c.title),1),e("div",q,[z(s.$slots,"default",{},void 0,!0)])]))}},v=b(O,[["__scopeId","data-v-45d95c88"]]),P={class:"progress-container"},H={class:"progress-bar"},R={__name:"ProgressBar",props:{progress:{type:Number,required:!0},color:{type:String,default:"#3498db"}},setup(c){const s=c,i=$(()=>({width:`${Math.min(100,Math.max(0,s.progress))}%`,backgroundColor:s.color}));return(m,l)=>(y(),_("div",P,[e("div",H,[e("div",{class:"progress-fill",style:L(i.value)},B(c.progress)+"% ",5)])]))}},T=b(R,[["__scopeId","data-v-d6b82dbf"]]),V=[{date:"2025-07-30",distance:"3.42",spendTime:"28:58",calorie:"235",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:22"},{date:"2025-07-29",distance:"0",spendTime:"0",calorie:"0",notes:"å°é£",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:22"},{date:"2025-07-28",distance:"3.93",spendTime:"32:29",calorie:"305",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:30"},{date:"2025-07-27",distance:"0",spendTime:"0",calorie:"0",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:30"},{date:"2025-07-26",distance:"3.0",spendTime:"24:51",calorie:"239",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:34"},{date:"2025-07-25",distance:"0",spendTime:"0",calorie:"0",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"30:50"},{date:"2025-07-24",distance:"0",spendTime:"45:00",calorie:"350",notes:"ç¯®çƒ45åˆ†é’Ÿ",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:32"},{date:"2025-07-23",distance:"3.0",spendTime:"24:31",calorie:"229",sugarFree:"N",expectedBedtime:"23:30",actualBedtime:"23:12"},{date:"2025-07-22",distance:"3.0",spendTime:"32:53",calorie:"289",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"23:04"},{date:"2025-07-21",distance:"2.8",spendTime:"25:10",calorie:"193",sugarFree:"Y",expectedBedtime:"23:30",actualBedtime:"22:31"},{date:"2025-07-20",distance:"2.3",spendTime:"19:35",calorie:"147",sugarFree:"N",expectedBedtime:"23:45",actualBedtime:"23:30"},{date:"2025-07-19",distance:"2.39",spendTime:"20:59",calorie:"181",sugarFree:"Y",expectedBedtime:"23:45",actualBedtime:"23:21"},{date:"2025-07-18",distance:"0",spendTime:"0",calorie:"0",sugarFree:"Y",expectedBedtime:"23:45",actualBedtime:"23:40"},{date:"2025-07-17",distance:"0",spendTime:"60:00",calorie:"350",notes:"ç¯®çƒ60åˆ†é’Ÿ",sugarFree:"Y",expectedBedtime:"23:45",actualBedtime:"23:27"},{date:"2025-07-16",distance:"2.25",spendTime:"31:35",calorie:"266",sugarFree:"Y",expectedBedtime:"23:45",actualBedtime:"23:28"},{date:"2025-07-15",distance:"2.16",spendTime:"18:17",calorie:"172",sugarFree:"Y",expectedBedtime:"23:45",actualBedtime:"23:30"},{date:"2025-07-14",distance:"1.8",spendTime:"14:32",calorie:"140",sugarFree:"Y",expectedBedtime:"23:45",actualBedtime:"23:36"},{date:"2025-07-13",distance:"1.78",spendTime:"12:38",calorie:"116",sugarFree:"Y",expectedBedtime:"24:00",actualBedtime:"23:14"},{date:"2025-07-12",distance:"1.77",spendTime:"15:33",calorie:"129",sugarFree:"Y",expectedBedtime:"24:00",actualBedtime:"24:47"},{date:"2025-07-11",distance:"1.83",spendTime:"14:48",calorie:"165",sugarFree:"Y",expectedBedtime:"24:00",actualBedtime:"23:48"},{date:"2025-07-10",distance:"0",spendTime:"60:00",calorie:"350",notes:"ç¯®çƒ60åˆ†é’Ÿ",sugarFree:"Y",expectedBedtime:"24:00",actualBedtime:"26:04"},{date:"2025-07-09",distance:"1.73",spendTime:"13:00",calorie:"154",sugarFree:"Y",expectedBedtime:"24:00",actualBedtime:"23:50"}],U={class:"health-report"},G={class:"header"},J={class:"charts-container"},K={class:"metrics-grid"},j={class:"metrics-column"},Q={class:"metrics-column"},W={class:"footer"},X={__name:"21Plans",setup(c){const s=Y(V),i=$(()=>s.value.length),m=$(()=>{const l=s.value.map(t=>t.date);return`${l[0]} è‡³ ${l[l.length-1]}`});return(l,t)=>(y(),_("div",U,[e("header",G,[e("h1",null,"å¥åº·æ•°æ®ç»Ÿè®¡æŠ¥å‘Š æ•°æ®å‘¨æœŸï¼š"+B(m.value)+"ï¼ˆå…±"+B(i.value)+"å¤©ï¼‰",1)]),e("div",J,[n(F,{type:"distance",data:s.value,title:"æ¯æ—¥è·‘æ­¥è·ç¦»(å…¬é‡Œ)"},null,8,["data"]),n(F,{type:"sugar",data:s.value,title:"ä¸å–ç³–æ°´æƒ…å†µç»Ÿè®¡"},null,8,["data"]),n(F,{type:"sleep",data:s.value,title:"è®¡åˆ’ vs å®é™…ç¡çœ æ—¶é—´",class:"full-width"},null,8,["data"])]),e("div",K,[e("div",j,[n(v,{title:"ğŸƒ è¿åŠ¨ç›®æ ‡å®Œæˆç‡"},{default:f(()=>[t[0]||(t[0]=e("div",null,[g("æœ‰æ•ˆè¿åŠ¨å¤©æ•°ï¼š"),e("span",{class:"highlight"},"14å¤©"),g("ï¼ˆå«è·‘æ­¥å’Œç¯®çƒï¼‰")],-1)),t[1]||(t[1]=e("div",null,"ä¼‘æ¯æ—¥ï¼š8å¤©ï¼ˆå…¶ä¸­3å¤©æœ‰æ˜ç¡®åŸå› ï¼‰",-1)),n(T,{progress:63.6}),t[2]||(t[2]=e("table",{class:"data-table"},[e("tr",null,[e("th",null,"è¿åŠ¨ç±»å‹"),e("th",null,"å¤©æ•°"),e("th",null,"å æ¯”")]),e("tr",null,[e("td",null,"è·‘æ­¥"),e("td",null,"11"),e("td",null,"78.6%")]),e("tr",null,[e("td",null,"ç¯®çƒ"),e("td",null,"3"),e("td",null,"21.4%")])],-1))]),_:1}),n(v,{title:"ğŸ¬ ä¸å–ç³–æ°´ç›®æ ‡è¾¾æˆ"},{default:f(()=>[t[3]||(t[3]=e("div",null,[g("å¿ä½äº†ï¼ˆYï¼‰ï¼š"),e("span",{class:"success"},"20å¤©")],-1)),t[4]||(t[4]=e("div",null,"æ²¡å¿ä½ï¼ˆNï¼‰ï¼š2å¤©ï¼ˆ7æœˆ23æ—¥ã€7æœˆ20æ—¥ï¼‰",-1)),n(T,{progress:90.9,color:"#27ae60"})]),_:1})]),e("div",Q,[n(v,{title:"ğŸ˜´ ç¡çœ è®¡åˆ’éµå®ˆç‡ï¼ˆä¿®æ­£ç‰ˆï¼‰"},{default:f(()=>[t[5]||(t[5]=e("div",null,[g("å‡†æ—¶/æå‰å…¥ç¡ï¼š"),e("span",{class:"highlight"},"12å¤©")],-1)),t[6]||(t[6]=e("div",null,[g("ç†¬å¤œå¤©æ•°ï¼š10å¤©ï¼ˆå«"),e("span",{class:"warning"},"4æ¬¡æç«¯ç†¬å¤œ"),g("ï¼‰")],-1)),n(T,{progress:54.5,color:"#f39c12"}),t[7]||(t[7]=e("table",{class:"data-table"},[e("tr",null,[e("th",null,"åå·®ç±»å‹"),e("th",null,"å¹³å‡æ—¶é—´"),e("th",null,"æœ€å¤§åå·®")]),e("tr",null,[e("td",null,"æå‰å…¥ç¡"),e("td",null,"23åˆ†é’Ÿ"),e("td",null,"1å°æ—¶19åˆ†é’Ÿ")]),e("tr",null,[e("td",null,"å»¶è¿Ÿå…¥ç¡"),e("td",null,"1å°æ—¶14åˆ†é’Ÿ"),e("td",null,"7å°æ—¶20åˆ†é’Ÿï¼ˆ7æœˆ25æ—¥ï¼‰")])],-1))]),_:1})])]),t[9]||(t[9]=e("div",{class:"final-score"},[g(" ç»¼åˆå¥åº·ç›®æ ‡å®Œæˆåº¦ï¼š"),e("span",{class:"score"},"70.4%"),e("div",{class:"score-sub"},"ï¼ˆè¿åŠ¨40% + ä¸å–ç³–æ°´30% + ç¡çœ 30%ï¼‰")],-1)),n(v,{title:"ğŸ“Š è¯¦ç»†æ•°æ®æƒé‡åˆ†æ"},{default:f(()=>[...t[8]||(t[8]=[e("table",{class:"data-table"},[e("tr",null,[e("th",null,"è¯„ä¼°ç»´åº¦"),e("th",null,"åŸå§‹å®Œæˆç‡"),e("th",null,"æƒé‡"),e("th",null,"åŠ æƒå¾—åˆ†")]),e("tr",null,[e("td",null,"è¿åŠ¨ç›®æ ‡"),e("td",null,"63.6%"),e("td",null,"40%"),e("td",null,"25.4%")]),e("tr",null,[e("td",null,"ä¸å–ç³–æ°´ç›®æ ‡"),e("td",null,"90.9%"),e("td",null,"30%"),e("td",null,"27.3%")]),e("tr",null,[e("td",null,"ç¡çœ ç›®æ ‡"),e("td",null,"59.1%"),e("td",null,"30%"),e("td",null,"17.7%")]),e("tr",{class:"total-row"},[e("td",{colspan:"3"},"æ€»åˆ†"),e("td",null,"70.4%")])],-1)])]),_:1}),e("footer",W," æ•°æ®ç»Ÿè®¡æ—¶é—´ï¼š2025å¹´7æœˆ â€¢ åŸºäº"+B(i.value)+"å¤©è·Ÿè¸ªæ•°æ® ",1)]))}},te=b(X,[["__scopeId","data-v-683c8f08"]]);export{te as default};
